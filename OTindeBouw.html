<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactieve Infographic: Technologie in de Bouw (TNO)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap');

        :root {
            --tno-blue: #00227B;
            --tno-light-blue: #009de0;
            --text-light: #f0f0f0;
            --text-dark: #333;
            --bg-dark: #001f5c;
            --accent-pink: #ff4081;
            --accent-green: #4caf50;
            --accent-purple: #9c27b0;
            --accent-orange: #f57c00;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
            line-height: 1.6;
            overflow-x: hidden;
            background-image:
                linear-gradient(rgba(0, 31, 92, 0.95), rgba(0, 31, 92, 0.95)),
                url('https://www.tno.nl/media/9566/verkenning-van-de-mogelijkheden-voor-arbeidsondersteunende-technologie-in-de-bouw-2-min.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 60px 20px;
            color: white;
            border-bottom: 2px solid var(--tno-light-blue);
        }

        header h1 {
            font-size: 3rem;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        header p {
            font-size: 1.2rem;
            margin-top: 10px;
            font-weight: 300;
        }
        
        header .authors {
            font-size: 0.9rem;
            margin-top: 20px;
            opacity: 0.7;
        }

        section {
            padding: 60px 0;
            border-bottom: 1px solid rgba(0, 157, 224, 0.2);
        }

        h2 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 40px;
            color: var(--tno-light-blue);
            font-weight: 700;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            border-color: var(--tno-light-blue);
        }
        
        .card h3 {
            font-size: 1.3rem;
            color: white;
            margin-bottom: 10px;
        }

        .card p {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .uitdaging-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        @media (max-width: 768px) {
            .uitdaging-grid { grid-template-columns: 1fr; }
        }

        .uitdaging-column h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid var(--accent-orange);
            padding-bottom: 10px;
        }

        .challenge-card {
            background: rgba(0,0,0,0.2);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-left: 5px solid var(--accent-pink);
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .challenge-card:hover {
            background-color: rgba(0,0,0,0.4);
        }
        
        .challenge-card h4 {
            font-size: 1.1rem;
        }
        
        /* Technologie sectie */
        #technologieen .main-tech-grid {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            align-items: center;
            gap: 20px;
        }
        
        @media (max-width: 900px) {
           #technologieen .main-tech-grid {
              grid-template-columns: 1fr;
            }
        }

        .tech-category {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .tech-card {
            padding: 12px 18px;
            border-radius: 50px;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .tech-card:hover {
            transform: scale(1.05);
            filter: brightness(1.2);
        }

        .tech-pink { background-color: var(--accent-pink); }
        .tech-blue { background-color: var(--tno-light-blue); }
        .tech-green { background-color: var(--accent-green); }
        .tech-purple { background-color: var(--accent-purple); }
        .tech-teal { background-color: #009688; }
        
        .tech-center-image {
            max-width: 100%;
            opacity: 0.8;
        }

        /* Inzetbaarheid sectie */
        #inzetbaarheid .deploy-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        @media (max-width: 768px) {
            #inzetbaarheid .deploy-grid { grid-template-columns: 1fr; }
        }
        
        .deploy-column {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
        }
        
        .deploy-column h3 {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
        }
        
        .deploy-col-1 h3 { border-bottom: 3px solid var(--accent-green); }
        .deploy-col-2 h3 { border-bottom: 3px solid var(--accent-orange); }
        .deploy-col-3 h3 { border-bottom: 3px solid var(--accent-pink); }

        .deploy-item {
            background: rgba(0,0,0,0.3);
            padding: 10px 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            text-align: center;
            font-size: 0.9rem;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            animation: fadeIn 0.3s;
        }

        .modal-content {
            background-color: #12122c;
            margin: 10% auto;
            padding: 30px;
            border: 1px solid var(--tno-light-blue);
            width: 80%;
            max-width: 800px;
            border-radius: 10px;
            position: relative;
            animation: slideIn 0.4s;
            color: var(--text-light);
        }
        
        .modal-content img.modal-image {
            max-width: 250px;
            float: right;
            margin-left: 20px;
            margin-bottom: 10px;
            border-radius: 8px;
        }
        
        @media (max-width: 600px) {
          .modal-content img.modal-image {
            float: none;
            display: block;
            margin: 15px auto;
            max-width: 80%;
          }
        }

        .modal-close {
            color: #aaa;
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .modal-close:hover,
        .modal-close:focus {
            color: white;
        }
        
        #modal-title {
            color: var(--tno-light-blue);
            margin-bottom: 20px;
        }
        
        .modal-section {
            margin-top: 20px;
        }
        
        .modal-section h4 {
            color: var(--accent-orange);
            border-bottom: 1px solid var(--accent-orange);
            padding-bottom: 5px;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .modal-section ul {
            list-style-type: '✓  ';
            padding-left: 20px;
        }
        
        .modal-section li, .modal-section p {
            font-size: 0.95rem;
            opacity: 0.9;
        }
        
        blockquote {
            background: rgba(0,0,0,0.2);
            border-left: 4px solid var(--accent-pink);
            margin: 15px 0;
            padding: 10px 20px;
            font-style: italic;
        }


        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* AI Assistant */
        .ai-fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background-color: var(--accent-pink);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 1001;
            transition: transform 0.3s ease;
        }
        
        .ai-fab:hover {
            transform: scale(1.1);
        }

        .ai-chat-window {
            display: none;
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 500px;
            background-color: #1a1a3d;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.4);
            z-index: 1000;
            flex-direction: column;
            overflow: hidden;
            animation: slideIn 0.3s;
        }
        
        .ai-chat-header {
            padding: 15px;
            background-color: var(--tno-blue);
            color: white;
            font-weight: bold;
            text-align: center;
        }
        
        .ai-chat-body {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
        }
        
        .chat-message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-message p {
            padding: 10px 15px;
            border-radius: 18px;
            max-width: 80%;
            line-height: 1.4;
        }
        
        .user-message {
            align-items: flex-end;
        }
        
        .user-message p {
            background-color: var(--tno-light-blue);
            color: white;
            border-bottom-right-radius: 5px;
        }
        
        .ai-message {
            align-items: flex-start;
        }
        
        .ai-message p {
            background-color: #3e3e6b;
            color: var(--text-light);
            border-bottom-left-radius: 5px;
        }
        
        .ai-chat-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid var(--tno-blue);
        }
        
        .ai-chat-input input {
            flex-grow: 1;
            padding: 10px;
            border-radius: 20px;
            border: none;
            background-color: #3e3e6b;
            color: white;
            outline: none;
        }
        
        .ai-chat-input button {
            background: none;
            border: none;
            color: var(--accent-pink);
            font-size: 20px;
            margin-left: 10px;
            cursor: pointer;
        }

    </style>
</head>
<body>

    <header class="container">
        <h1>Verkenning van de mogelijkheden voor arbeidsondersteunende technologie in de bouw</h1>
        <p>Een interactieve samenvatting van het TNO rapport - Maart 2024</p>
        <div class="authors">Auteurs: Anneke Goudswaard, Jeroen Oosterhout, Gu van Rhijn, Helen Verhoef & Roos van den Bergh</div>
    </header>

    <main class="container">
        <section id="uitdagingen">
            <h2>Uitdagingen in de Bouw</h2>
            <div class="uitdaging-grid">
                <div class="uitdaging-column">
                    <h3>Algemene Uitdagingen</h3>
                    <div class="challenge-card" data-challenge-id="1"><h4>Toenemende complexiteit</h4></div>
                    <div class="challenge-card" data-challenge-id="2"><h4>Nieuwe manieren van communiceren</h4></div>
                    <div class="challenge-card" data-challenge-id="3"><h4>Meer standaardisatie en modulair werken</h4></div>
                    <div class="challenge-card" data-challenge-id="4"><h4>Vergroten van efficiency</h4></div>
                </div>
                <div class="uitdaging-column">
                    <h3>Uitdagingen op het terrein van Arbeid</h3>
                    <div class="challenge-card" data-challenge-id="5"><h4>Arbeidstekorten</h4></div>
                    <div class="challenge-card" data-challenge-id="6"><h4>Snel opschalen van arbeid</h4></div>
                    <div class="challenge-card" data-challenge-id="7"><h4>Anders organiseren van het werk</h4></div>
                    <div class="challenge-card" data-challenge-id="8"><h4>Veiligheidseisen</h4></div>
                    <div class="challenge-card" data-challenge-id="9"><h4>Fysieke belasting</h4></div>
                </div>
            </div>
        </section>

        <section id="technologieen">
            <h2>Potentiële Toepassingen</h2>
            <div class="main-tech-grid">
                <div class="tech-category">
                    <div class="tech-card tech-blue" data-tech-id="ar_vr">Augmented & Virtual Reality</div>
                    <div class="tech-card tech-green" data-tech-id="autonoom">Autonome Systemen & Data Analyse</div>
                    <div class="tech-card tech-purple" data-tech-id="robots">Robots en Cobots</div>
                </div>
                <img src="https://i.imgur.com/f2AAGjl.png" alt="Technologie-netwerk" class="tech-center-image">
                <div class="tech-category">
                    <div class="tech-card tech-pink" data-tech-id="monitoring">Persoonlijke Monitoring & Assistentie</div>
                    <div class="tech-card tech-teal" data-tech-id="exoskelet">Exoskeletten</div>
                </div>
            </div>
        </section>

        <section id="inzetbaarheid">
            <h2>Inzetbaarheid van Technologieën</h2>
            <div class="deploy-grid">
                <div class="deploy-column deploy-col-1">
                    <h3>✅ Direct Inzetbaar (implementatie)</h3>
                    <div class="deploy-item">Digitale werkinstructies</div>
                    <div class="deploy-item">VR voor E-learning</div>
                    <div class="deploy-item">Remote support</div>
                    <div class="deploy-item">Passief exoskelet (rug/arm)</div>
                    <div class="deploy-item">Slimmer verbinden (DataRotonde)</div>
                </div>
                <div class="deploy-column deploy-col-2">
                    <h3>🛠️ Doorontwikkeling Nodig (testen)</h3>
                    <div class="deploy-item">AI assistent voor kantoorwerk</div>
                    <div class="deploy-item">Instant werkinstructies (AI)</div>
                    <div class="deploy-item">Chatbot voor storingen</div>
                    <div class="deploy-item">Metselrobot</div>
                    <div class="deploy-item">Sorteerrobot</div>
                </div>
                <div class="deploy-column deploy-col-3">
                    <h3>💡 Concept & Inspiratie (R&D)</h3>
                    <div class="deploy-item">AI assistent circulariteit</div>
                    <div class="deploy-item">AR HoloLens projectie</div>
                    <div class="deploy-item">Slim monitoren met AI</div>
                    <div class="deploy-item">Modulair ontwerpen met AI</div>
                </div>
            </div>
        </section>
        
        <footer>
            <p style="text-align:center; padding: 20px 0; font-size: 0.8rem; opacity: 0.6;">
                Dit is een interactieve samenvatting gebaseerd op het publieke rapport "Verkenning van de mogelijkheden voor arbeidsondersteunende technologie in de bouw" (Maart 2024) door TNO. Alle rechten op de originele inhoud behoren toe aan TNO.
            </p>
        </footer>

    </main>

    <!-- Modal -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">×</span>
            <img id="modal-image" class="modal-image" src="" alt="Technologie afbeelding">
            <h2 id="modal-title"></h2>
            <p id="modal-description"></p>
            <div id="modal-extra-content"></div>
        </div>
    </div>
    
    <!-- AI Assistant -->
    <div class="ai-fab" id="ai-fab-button">
      🤖
    </div>
    <div class="ai-chat-window" id="ai-chat-window">
        <div class="ai-chat-header">TNO Bouwtech Assistent</div>
        <div class="ai-chat-body" id="ai-chat-body">
            <div class="chat-message ai-message">
                <p>Hallo! Ik ben de Bouwtech Assistent. Stel me een vraag over de technologieën in dit rapport.</p>
            </div>
        </div>
        <form class="ai-chat-input" id="ai-chat-form">
            <input type="text" id="ai-chat-input-field" placeholder="Typ uw vraag..." autocomplete="off">
            <button type="submit">➤</button>
        </form>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- Data voor de modals ---
        const techData = {
             ar_vr: {
                title: 'Augmented & Virtual Reality',
                description: 'AR en VR zijn technologieën die een digitale omgeving creëren of de echte wereld verbeteren. Ze worden vaak ingezet voor trainingen (VR) of het visualiseren van data op locatie (AR).',
                image: 'https://i.imgur.com/G2aD9bU.jpg',
                extra: `
                    <h4>Potentiële Toepassingen</h4>
                    <ul>
                        <li><strong>VR voor E-learning:</strong> Veiligheidstrainingen en het leren van nieuwe technieken in een gesimuleerde omgeving, zonder risico's. Maakt werk toegankelijker voor mbo-2 niveau.</li>
                        <li><strong>AR voor visualisatie:</strong> Het tonen van 3D-data (zoals leidingen) over de echte wereld via een bril of tablet, om fouten te voorkomen en het werk te verduidelijken.</li>
                    </ul>
                    <h4>Quote van een bedrijf:</h4>
                    <blockquote>“Nu worden deze mensen op mbo-2 niveau schilder. Deze technologie zou ook in de eigen academy gebruikt kunnen worden om mensen te ondersteunen.”</blockquote>
                `
            },
            autonoom: {
                title: 'Autonome Systemen & Data Analyse',
                description: 'Deze categorie omvat technologieën die digitale systemen en infrastructuren creëren en beheren. Ze worden ingezet om bedrijfsprocessen te optimaliseren met behulp van slimme data.',
                image: 'https://i.imgur.com/nJbT17c.jpg',
                extra: `
                    <h4>Potentiële Toepassingen</h4>
                    <ul>
                        <li><strong>Modulair Ontwerpen met AI:</strong> Een AI-assistent helpt bij het kiezen van standaard modules en het werken volgens slimme regels, wat ontwerptijd bespaart en hergebruik bevordert.</li>
                        <li><strong>Slim Monitoren:</strong> AI analyseert data van sensoren in gebouwen of installaties om storingen te voorspellen en onderhoud efficiënter te plannen.</li>
                        <li><strong>Slimmer Verbinden:</strong> Platformen zoals DataRotonde verbinden systemen van bijvoorbeeld woningcorporaties en onderhoudsbedrijven, waardoor communicatie en planning naadloos verlopen.</li>
                    </ul>
                `
            },
            robots: {
                title: 'Robots en Cobots',
                description: 'Machines die zelfstandig (robots) of in samenwerking met mensen (cobots) taken uitvoeren. Ze worden ingezet voor handmatig, zwaar, saai of repeterend werk.',
                image: 'https://i.imgur.com/mO4rS8P.jpg',
                extra: `
                    <h4>Potentiële Toepassingen</h4>
                    <ul>
                        <li><strong>Metselrobot:</strong> Kan sneller grote, rechte muren metselen, waardoor de vakman zich kan focussen op complexer metselwerk. Dit helpt bij arbeidstekorten.</li>
                        <li><strong>Sorteerrobot:</strong> Automatiseert het sorteren van sloopmateriaal in mono-stromen, wat fysiek en mentaal zwaar werk vermindert en de circulariteit bevordert.</li>
                    </ul>
                    <h4>Quote van een bedrijf:</h4>
                    <blockquote>“We gaan er van uit dat 80% van het werk door de robot wordt gedaan en 20% met de hand. De ervaren metselaar zal blijven voor 'specialties'.”</blockquote>
                `
            },
            monitoring: {
                title: 'Persoonlijke Monitoring & Assistentie',
                description: 'Apparaten en technologieën die (onervaren) mensen ondersteunen om hun werk efficiënt en foutloos uit te voeren, vaak via een scherm, tablet, of slimme bril.',
                image: 'https://i.imgur.com/KqB5D6f.jpg',
                extra: `
                    <h4>Potentiële Toepassingen</h4>
                    <ul>
                        <li><strong>Digitale Werkinstructies:</strong> Stapsgewijze instructies op een tablet of telefoon, waardoor medewerkers met een lager opleidingsniveau (mbo-2) werk kunnen doen dat voorheen mbo-4 niveau vereiste.</li>
                        <li><strong>AI Assistent voor Kantoor:</strong> Een 'copiloot' die helpt bij engineering en werkvoorbereiding door snel informatie te vinden en documenten op te stellen.</li>
                        <li><strong>Remote Support:</strong> Een ervaren expert kijkt op afstand mee via een camera/slimme bril en begeleidt een onervaren collega op locatie. Dit versnelt het leerproces en bespaart reistijd.</li>
                    </ul>
                `
            },
            exoskelet: {
                title: 'Exoskeletten',
                description: 'Draagbare apparaten die het menselijk lichaam ondersteunen, versterken of beschermen om fysieke klachten door overbelasting te voorkomen.',
                image: 'https://i.imgur.com/n14S4Jm.jpg',
                extra: `
                    <h4>Potentiële Toepassingen</h4>
                    <ul>
                        <li><strong>Passief Exoskelet voor Armondersteuning:</strong> Helpt bij langdurig werk boven het hoofd, zoals het (de)monteren van plafonds. Vermindert vermoeidheid en spierspanning.</li>
                        <li><strong>Passief Exoskelet voor Rugondersteuning:</strong> Ondersteunt de rug en heupen bij tillen of langdurig voorovergebogen werken, zoals het plaatsen van glas in kozijnen.</li>
                    </ul>
                    <h4>Doel:</h4>
                    <p>Het verminderen van fysieke belasting en uitval, en het werk aantrekkelijker maken voor jongere generaties.</p>
                `
            }
        };
        
        const challengeData = {
            1: { title: 'Toenemende Complexiteit', quote: '“Het vak verandert, het gaat steeds meer om bouwkundig demonteren: Omgekeerd bouwen. Daar is kennis voor nodig.” – Sloopbedrijf' },
            2: { title: 'Nieuwe Manieren van Communiceren', quote: '“We moeten slimmer, efficiënter, meer data gedreven werken, koppelen van data en schakels tussen partijen.” – Aannemersbedrijf' },
            3: { title: 'Standaardisatie en Modulair Werken', quote: '“Bijna alles is maatwerk. Het gekke van de branche is dat men van oudsher gewend is om zo min mogelijk uniform te maken vanuit klantgerichtheid.” – Installateur klimaatinstallaties' },
            4: { title: 'Vergroten van Efficiency', quote: '“De tijd dat het kost om een warmtepomp te installeren moet terug. Juist dat deel van de keten is op dit moment nog erg arbeidsintensief.” – Installateur warmtepompen' },
            5: { title: 'Arbeidstekorten', quote: '“We ondervinden vooral een tekort aan mensen van het juiste niveau om warmtepompen te installeren in bestaande woningen.” – Installatiebedrijf' },
            6: { title: 'Snel Opschalen van Arbeid', quote: '“De flexibele schil is momenteel uitgedund... De behoefte om flexkrachten snel in te leren is groot op het moment dat de markt aantrekt.” – Fabrikant houten kozijnen' },
            7: { title: 'Anders Organiseren van het Werk', quote: '“In de ideale wereld is de installateur de chirurg die direct kan beginnen met werken en worden de voorbereidingen door assistenten uitgevoerd.” – Installateur warmtepompen' },
            8: { title: 'Veiligheidseisen', quote: 'Vooral op de bouwplaats speelt veiligheid een belangrijke rol. Zeker als er meerdere bedrijven en personen aan het werk zijn en als er minder ervaren medewerkers rondlopen.' },
            9: { title: 'Fysieke Belasting', quote: '“Sorteren kan al wel automatisch, maar dat is kostbaar.” – Sloopbedrijf. Bij circulair slopen wordt nog veel boven het hoofd gewerkt.' }
        };

        // --- Modal Logic ---
        const modal = document.getElementById('infoModal');
        const modalTitle = document.getElementById('modal-title');
        const modalDescription = document.getElementById('modal-description');
        const modalExtra = document.getElementById('modal-extra-content');
        const modalImage = document.getElementById('modal-image');
        const closeModalBtn = document.querySelector('.modal-close');

        const openModal = (content) => {
            modalTitle.textContent = content.title;
            modalDescription.textContent = content.description || '';
            modalExtra.innerHTML = content.extra || '';
            
            if (content.image) {
              modalImage.src = content.image;
              modalImage.style.display = 'block';
            } else {
              modalImage.style.display = 'none';
            }
            
            if(content.quote) {
                 modalExtra.innerHTML = `<h4>Praktijkvoorbeeld</h4><blockquote>${content.quote}</blockquote>`;
            }

            modal.style.display = 'block';
        };

        const closeModal = () => {
            modal.style.display = 'none';
        };

        document.querySelectorAll('.tech-card').forEach(card => {
            card.addEventListener('click', () => {
                const techId = card.dataset.techId;
                if (techData[techId]) {
                    openModal(techData[techId]);
                }
            });
        });
        
        document.querySelectorAll('.challenge-card').forEach(card => {
            card.addEventListener('click', () => {
                const challengeId = card.dataset.challengeId;
                if (challengeData[challengeId]) {
                    openModal(challengeData[challengeId]);
                }
            });
        });

        closeModalBtn.addEventListener('click', closeModal);
        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                closeModal();
            }
        });

        // --- AI Assistant Logic ---
        const fab = document.getElementById('ai-fab-button');
        const chatWindow = document.getElementById('ai-chat-window');
        const chatForm = document.getElementById('ai-chat-form');
        const chatInput = document.getElementById('ai-chat-input-field');
        const chatBody = document.getElementById('ai-chat-body');

        fab.addEventListener('click', () => {
            const isDisplayed = chatWindow.style.display === 'flex';
            chatWindow.style.display = isDisplayed ? 'none' : 'flex';
        });

        const knowledgeBase = [
            { keywords: ['exoskelet', 'fysiek', 'belasting', 'tillen', 'rug'], answer: 'Exoskeletten zijn draagbare apparaten die het lichaam ondersteunen bij zwaar werk, zoals tillen of boven het hoofd werken. Ze verminderen fysieke belasting en de kans op uitval.' },
            { keywords: ['arbeidstekort', 'tekort', 'mensen'], answer: 'Technologie helpt arbeidstekorten aan te pakken door werk efficiënter te maken (robots), taken toegankelijk te maken voor lager opgeleiden (digitale instructies) en kennis van experts beter te benutten (remote support).' },
            { keywords: ['robot', 'cobot', 'metselrobot', 'sorteren'], answer: 'Robots, zoals de metselrobot, kunnen repeterend en zwaar werk overnemen. Dit verhoogt de snelheid en efficiëntie, en stelt vakmensen in staat zich op complexere taken te richten.' },
            { keywords: ['ar', 'vr', 'augmented', 'virtual', 'reality', 'bril'], answer: 'AR (Augmented Reality) legt digitale info over de werkelijkheid. VR (Virtual Reality) creëert een volledig digitale wereld. Ze worden in de bouw vooral gebruikt voor training (VR) en instructies op de werkplek (AR).' },
            { keywords: ['data', 'analyse', 'slim', 'monitoren'], answer: 'Door data van sensoren in gebouwen te analyseren met AI, kan onderhoud voorspeld worden (predictive maintenance). Dit voorkomt onverwachte storingen en maakt planning efficiënter.' },
            { keywords: ['instructies', 'leren', 'opleiden', 'kennis'], answer: 'Digitale werkinstructies op een tablet of via AR/VR kunnen onervaren medewerkers stapsgewijs begeleiden. Dit maakt het mogelijk om mensen sneller op te leiden en in te zetten.' },
            { keywords: ['circulair', 'circulariteit', 'hergebruik'], answer: 'Technologie ondersteunt circulariteit door o.a. AI-assistenten die helpen bij het inventariseren van herbruikbare materialen in een sloopgebouw, en sorteerrobots die afvalstromen scheiden.' },
            { keywords: ['hallo', 'hoi', 'hey'], answer: 'Hallo! Waar kan ik u mee helpen? Vraag bijvoorbeeld: "Wat is een exoskelet?"' }
        ];

        const getAiResponse = (userInput) => {
            userInput = userInput.toLowerCase();
            for (const item of knowledgeBase) {
                for (const keyword of item.keywords) {
                    if (userInput.includes(keyword)) {
                        return item.answer;
                    }
                }
            }
            return 'Dat is een goede vraag. Helaas kan ik daar geen specifiek antwoord op vinden in mijn data. Probeer uw vraag anders te formuleren, bijvoorbeeld over "robots", "AR/VR" of "arbeidstekorten".';
        };

        const addMessageToChat = (message, sender) => {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}-message`;
            messageDiv.innerHTML = `<p>${message}</p>`;
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        };

        chatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userText = chatInput.value.trim();
            if (userText === '') return;

            addMessageToChat(userText, 'user');
            chatInput.value = '';

            setTimeout(() => {
                const aiResponse = getAiResponse(userText);
                addMessageToChat(aiResponse, 'ai');
            }, 800);
        });
    });
    </script>
</body>
</html>
